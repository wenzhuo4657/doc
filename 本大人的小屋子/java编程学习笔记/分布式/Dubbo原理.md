
# Dubbo服务发现

## 接口级发现和应用级发现


![[Pasted image 20241107200555.png|接口级别服务发现]]



接口级别的服务发现本质时将生产者的服务颗粒聚集在接口实现上，这一点可以从服务调用url看出

![[Pasted image 20241107195224.png]]

而接口级别颗粒度所带来的问题是，当接口数量过于庞大时，由于颗粒度很过小，任何服务的请求都将访问注册中心获取rpc地址（这里需要注意的是，注册中心相当于rpc地址的高速存取，相当于redis的作用，真正调用服务的是rpc地址）,这会导致注册中心的压力激增，此外对于消费端来说，会有一个dubbo常驻内存的机制，其大小也会随之增长。

因此接口级服务发现的瓶颈在于，颗粒度太小。当接口服务、需求量过多时，会导致整个架构内部的数据流量过多，同时内存方面也会增长（**数据量和内存的增长主要集中在消费端和注册中心**）。



![[Pasted image 20241107201511.png|应用级别服务发现]]


针对于接口级别的应用瓶颈，应用级别所作优化就是减少注册中心数据接口，降低服务的易用性（由原本的rpc地址变为简单的服务提供地址，这对于消费端而言需要额外的解析。），换取来的是内存和数据流量的降低。

，
![[Pasted image 20241108192937.png]]
增加了服务拉去链路MetaData，且注意，对于rpc量较少的架构，该架构毫无疑问是增加负担，



## Dubbo spi扩展机制

[[spi：服务发现]] 
